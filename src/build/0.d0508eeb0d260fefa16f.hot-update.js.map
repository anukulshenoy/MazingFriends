{"version":3,"sources":["webpack:///./src/components/Game/TextChat.jsx?2b74"],"names":["TextChat","state","message","messages","socket","window","context","on","setState","console","log","e","preventDefault","emit","user","sessionStorage","getItem","target","value","camera","keysUp","keysDown","keysLeft","keysRight","userOnChat","sendMessage","bind","onFocus","updateInput","onBlur","map","messageObj","Component"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;KAEMA,Q;;;AACJ,uBAAc;AAAA;;AAAA;;AAEZ,WAAKC,KAAL,GAAa;AACXC,gBAAS,EADE;AAEXC,iBAAU;AAFC,MAAb;AAFY;AAMb;;;;yCAEmB;AAClB,WAAIC,SAASC,OAAOD,MAApB;AACA,WAAIE,UAAU,IAAd;AACAF,cAAOG,EAAP,CAAU,gBAAV,EAA4B,UAASL,OAAT,EAAkB;AAC5CI,iBAAQE,QAAR,CAAiB;AACfL,qBAAUD;AADK,UAAjB;AAGAO,iBAAQC,GAAR,CAAY,sBAAZ,EAAoCJ,QAAQL,KAA5C;AACD,QALD;;AAOA,YAAKO,QAAL,CAAc;AACZJ,iBAAQA;AADI,QAAd;AAGD;;;iCAEWO,C,EAAG;AACbA,SAAEC,cAAF;AACAP,cAAOD,MAAP,CAAcS,IAAd,CAAmB,aAAnB,EAAkC;AAChCX,kBAAS,KAAKD,KAAL,CAAWC,OADY;AAEhCY,eAAMC,eAAeC,OAAf,CAAuB,MAAvB;AAF0B,QAAlC;AAID;;;iCAEWL,C,EAAG;AACbA,SAAEC,cAAF;AACA,YAAKJ,QAAL,CAAc,EAACN,SAASS,EAAEM,MAAF,CAASC,KAAnB,EAAd;AACD;;;+BAES;AACR;AACAb,cAAOc,MAAP,CAAcC,MAAd,GAAuB,EAAvB;AACAf,cAAOc,MAAP,CAAcE,QAAd,GAAyB,EAAzB;AACAhB,cAAOc,MAAP,CAAcG,QAAd,GAAyB,EAAzB;AACAjB,cAAOc,MAAP,CAAcI,SAAd,GAA0B,EAA1B;AACAlB,cAAOmB,UAAP,GAAoB,IAApB;AAED;;;8BAEQ;AACP;AACAL,cAAOC,MAAP,GAAgB,CAAC,EAAD,CAAhB;AACAD,cAAOE,QAAP,GAAkB,CAAC,EAAD,CAAlB;AACAF,cAAOG,QAAP,GAAkB,CAAC,EAAD,CAAlB;AACAH,cAAOI,SAAP,GAAmB,CAAC,EAAD,CAAnB;AACAlB,cAAOmB,UAAP,GAAoB,KAApB;AAED;;;8BAEQ;AACP,cACE;AAAA;AAAA,WAAK,WAAU,UAAf;AACE;AAAA;AAAA,aAAM,UAAU,KAAKC,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAhB;AACE,oDAAO,MAAK,MAAZ,EAAmB,OAAO,KAAKzB,KAAL,CAAWC,OAArC,EAA8C,SAAS,KAAKyB,OAAL,CAAaD,IAAb,CAAkB,IAAlB,CAAvD,EAAgF,UAAU,KAAKE,WAAL,CAAiBF,IAAjB,CAAsB,IAAtB,CAA1F,EAAuH,QAAQ,KAAKG,MAAL,CAAYH,IAAZ,CAAiB,IAAjB,CAA/H,GADF;AAEE,oDAAO,MAAK,QAAZ,EAAqB,OAAM,QAA3B;AAFF,UADF;AAKE;AAAA;AAAA,aAAK,IAAG,SAAR;AACG,gBAAKzB,KAAL,CAAWE,QAAX,CAAoB2B,GAApB,CAAyB,UAACC,UAAD;AAAA,oBACxB;AAAA;AAAA;AACE;AAAA;AAAA;AAAKA,4BAAW,QAAX;AAAL,gBADF;AAEE;AAAA;AAAA;AAAMA,4BAAW7B;AAAjB;AAFF,cADwB;AAAA,YAAzB;AADH;AALF,QADF;AAgBD;;;;GA1EoB,gBAAM8B,S;;AA2E5B;;mBAGchC,Q","file":"0.d0508eeb0d260fefa16f.hot-update.js","sourcesContent":["import React from 'react';\n\nclass TextChat extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      message: '',\n      messages: []\n    };\n  }\n\n  componentDidMount() {\n    var socket = window.socket;\n    var context = this;\n    socket.on('receiveMessage', function(message) {\n      context.setState({\n        messages: message\n      });\n      console.log('in receiveMessage : ', context.state);\n    });\n\n    this.setState({\n      socket: socket\n    });\n  }\n  \n  sendMessage(e) {\n    e.preventDefault();\n    window.socket.emit('sendMessage', {\n      message: this.state.message,\n      user: sessionStorage.getItem('user')\n    });\n  }\n\n  updateInput(e) {\n    e.preventDefault();\n    this.setState({message: e.target.value});\n  }\n\n  onFocus() {\n    // disabling 'wasd' for game movement\n    window.camera.keysUp = [];\n    window.camera.keysDown = []; \n    window.camera.keysLeft = []; \n    window.camera.keysRight = [];\n    window.userOnChat = true;\n    \n  }\n\n  onBlur() {\n    // enabling 'wasd' for game movement\n    camera.keysUp = [87];\n    camera.keysDown = [83]; \n    camera.keysLeft = [65]; \n    camera.keysRight = [68];\n    window.userOnChat = false;\n\n  }\n\n  render() {\n    return (\n      <div className=\"TextChat\">\n        <form onSubmit={this.sendMessage.bind(this)}> \n          <input type=\"text\" value={this.state.message} onFocus={this.onFocus.bind(this)} onChange={this.updateInput.bind(this)} onBlur={this.onBlur.bind(this)} />\n          <input type=\"submit\" value=\"Submit\" />\n        </form>\n        <div id=\"chatBox\">\n          {this.state.messages.map( (messageObj) => (\n            <div>\n              <h3>{messageObj['userId']}</h3>\n              <div>{messageObj.message}</div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n};\n\n\nexport default TextChat;\n\n\n// WEBPACK FOOTER //\n// ./src/components/Game/TextChat.jsx"],"sourceRoot":""}