{"version":3,"sources":["webpack:///./src/components/Game/TextChat.jsx?2b74"],"names":["TextChat","state","message","messages","socket","window","context","on","setState","console","log","e","preventDefault","emit","user","sessionStorage","getItem","clearMessage","target","value","camera","keysUp","keysDown","keysLeft","keysRight","userOnChat","map","messageObj","sendMessage","bind","onFocus","onBlur","updateInput","Component"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;KAEMA,Q;;;AACJ,uBAAc;AAAA;;AAAA;;AAEZ,WAAKC,KAAL,GAAa;AACXC,gBAAS,EADE;AAEXC,iBAAU;AAFC,MAAb;AAFY;AAMb;;;;yCAEmB;AAClB,WAAIC,SAASC,OAAOD,MAApB;AACA,WAAIE,UAAU,IAAd;AACAF,cAAOG,EAAP,CAAU,gBAAV,EAA4B,UAASL,OAAT,EAAkB;AAC5CI,iBAAQE,QAAR,CAAiB;AACfL,qBAAUD;AADK,UAAjB;AAGAO,iBAAQC,GAAR,CAAY,sBAAZ,EAAoCJ,QAAQL,KAA5C;AACD,QALD;;AAOA,YAAKO,QAAL,CAAc;AACZJ,iBAAQA;AADI,QAAd;AAGD;;;iCAEWO,C,EAAG;AACbA,SAAEC,cAAF;AACAP,cAAOD,MAAP,CAAcS,IAAd,CAAmB,aAAnB,EAAkC;AAChCX,kBAAS,KAAKD,KAAL,CAAWC,OADY;AAEhCY,eAAMC,eAAeC,OAAf,CAAuB,MAAvB;AAF0B,QAAlC;AAIA,YAAKC,YAAL;AACD;;;iCAEWN,C,EAAG;AACbA,SAAEC,cAAF;AACA,YAAKJ,QAAL,CAAc,EAACN,SAASS,EAAEO,MAAF,CAASC,KAAnB,EAAd;AACD;;;oCAEc;AACb,YAAKX,QAAL,CAAc;AACZN,kBAAS;AADG,QAAd;AAGD;;;+BAES;AACR;AACAG,cAAOe,MAAP,CAAcC,MAAd,GAAuB,EAAvB;AACAhB,cAAOe,MAAP,CAAcE,QAAd,GAAyB,EAAzB;AACAjB,cAAOe,MAAP,CAAcG,QAAd,GAAyB,EAAzB;AACAlB,cAAOe,MAAP,CAAcI,SAAd,GAA0B,EAA1B;AACAnB,cAAOoB,UAAP,GAAoB,IAApB;AAED;;;8BAEQ;AACP;AACAL,cAAOC,MAAP,GAAgB,CAAC,EAAD,CAAhB;AACAD,cAAOE,QAAP,GAAkB,CAAC,EAAD,CAAlB;AACAF,cAAOG,QAAP,GAAkB,CAAC,EAAD,CAAlB;AACAH,cAAOI,SAAP,GAAmB,CAAC,EAAD,CAAnB;AACAnB,cAAOoB,UAAP,GAAoB,KAApB;AAED;;;8BAEQ;AACP,cACE;AAAA;AAAA,WAAK,WAAU,UAAf;AACE;AAAA;AAAA,aAAK,WAAU,eAAf;AACE;AAAA;AAAA,eAAK,WAAU,SAAf;AACG,kBAAKxB,KAAL,CAAWE,QAAX,CAAoBuB,GAApB,CAAyB,UAACC,UAAD;AAAA,sBACxB;AAAA;AAAA;AACE;AAAA;AAAA;AAAKA,8BAAW,QAAX;AAAL,kBADF;AAEE;AAAA;AAAA;AAAMA,8BAAWzB;AAAjB;AAFF,gBADwB;AAAA,cAAzB;AADH;AADF,UADF;AAWE;AAAA;AAAA,aAAK,WAAU,WAAf;AACE;AAAA;AAAA,eAAM,UAAU,KAAK0B,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAhB;AACE,sDAAO,MAAK,MAAZ,EAAmB,WAAU,SAA7B,EAAuC,SAAS,KAAKC,OAAL,CAAaD,IAAb,CAAkB,IAAlB,CAAhD,EAAyE,QAAQ,KAAKE,MAAL,CAAYF,IAAZ,CAAiB,IAAjB,CAAjF,EAAyG,OAAO,KAAK5B,KAAL,CAAWC,OAA3H,EAAoI,UAAU,KAAK8B,WAAL,CAAiBH,IAAjB,CAAsB,IAAtB,CAA9I,GADF;AAEE,sDAAO,MAAK,QAAZ,EAAqB,OAAM,QAA3B,EAAoC,WAAU,SAA9C;AAFF;AADF;AAXF,QADF;AAoBD;;;;GArFoB,gBAAMI,S;;mBA0FdjC,Q","file":"0.fc4823eea44a66da1cc0.hot-update.js","sourcesContent":["import React from 'react';\n\nclass TextChat extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      message: '',\n      messages: []\n    };\n  }\n\n  componentDidMount() {\n    var socket = window.socket;\n    var context = this;\n    socket.on('receiveMessage', function(message) {\n      context.setState({\n        messages: message\n      });\n      console.log('in receiveMessage : ', context.state);\n    });\n\n    this.setState({\n      socket: socket\n    });\n  }\n  \n  sendMessage(e) {\n    e.preventDefault();\n    window.socket.emit('sendMessage', {\n      message: this.state.message,\n      user: sessionStorage.getItem('user')\n    });\n    this.clearMessage()\n  }\n\n  updateInput(e) {\n    e.preventDefault();\n    this.setState({message: e.target.value});\n  }\n\n  clearMessage() {\n    this.setState({\n      message: ''\n    })\n  }\n\n  onFocus() {\n    // disabling 'wasd' for game movement\n    window.camera.keysUp = [];\n    window.camera.keysDown = []; \n    window.camera.keysLeft = []; \n    window.camera.keysRight = [];\n    window.userOnChat = true;\n    \n  }\n\n  onBlur() {\n    // enabling 'wasd' for game movement\n    camera.keysUp = [87];\n    camera.keysDown = [83]; \n    camera.keysLeft = [65]; \n    camera.keysRight = [68];\n    window.userOnChat = false;\n\n  }\n\n  render() {\n    return (\n      <div className=\"TextChat\">\n        <div className=\"ChatContainer\">\n          <div className=\"ChatBox\">\n            {this.state.messages.map( (messageObj) => (\n              <div>\n                <h3>{messageObj['userId']}</h3>\n                <div>{messageObj.message}</div>\n              </div>\n            ))}\n          </div>\n        </div>\n        <div className=\"TextInput\">\n          <form onSubmit={this.sendMessage.bind(this)}> \n            <input type=\"text\" className=\"chatBar\" onFocus={this.onFocus.bind(this)} onBlur={this.onBlur.bind(this)} value={this.state.message} onChange={this.updateInput.bind(this)} />\n            <input type=\"submit\" value=\"Submit\" className=\"chatBtn\" />\n          </form>\n        </div>\n      </div>\n    )\n  }\n\n}\n\n\nexport default TextChat;\n\n\n// WEBPACK FOOTER //\n// ./src/components/Game/TextChat.jsx"],"sourceRoot":""}